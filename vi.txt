要退出vi可以在命令模式下键入:q，:q!或:wq退出（注意冒号）。常用的退出命令如下。

1）:q——如果用户只是读文件的内容而未对文件进行修改，可以使用“:q”退出vi。那么vi在屏幕的底行会提示下面的信息，vi编辑器还保留在屏幕上。

No write since last change(add ! to override)

2）:q!——如果用户对文件的内容作了修改，然后决定要放弃对文件的修改，可以使用“:q!”强行退出vi，在这种情况下文件的内容不变。

3）:wq——在大多数情况下，用户在编辑结束时，用“:wq”命令保存文件，然后退出vi。

4）:n，m w filename——该命令将第n~m行的文本保存到指定的文件filename中。

5）:w!——vi编辑器通常防止覆盖一个已存在的文件。比如用户键入“:w! test.txt”并按回车键，而test.txt文件已存在时，vi会显示如下的信息提出警告。

“test.txt” File exist – use “ : w! to overwrite”

6）ZZ——该命令表示快速保存文件的内容，然后退出vi，功能和“:wq”一样。

7）ZQ——该命令表示不保存文件的内容，然后退出vi。

说明：ZZ和ZQ命令是编辑模式下的命令。


=============================================================
Vi有三种工作模式：编辑模式、插入模式和命令模式（末行模式）。Vi用户可以在这三种模式间切换。

编辑模式：进入vi后，首先进入的就是编辑模式，屏幕上会等待用户键入命令，也即输入的字母被解释为编辑命令执行，而不是作为文本写到用户的文件中。如果用户想从编辑模式切换到命令模式，可按“:”键进入命令模式。

插入模式：在编辑模式下输入插入命令i（I），附加命令a（A），打开命令o（O）中任意一个都可进入插入模式。在插入模式下，用户输入的任何字符都被vi当作文件内容保存起来，并将其显示在屏幕上。要从插入模式切换到编辑模式按Esc键即可。

命令模式：用来编辑、存盘和退出文件的模式，此时vi会在窗口的最后一行显示一个作为命令模式的提示符，等待用户输入命令，多数文件的管理命令都是在此模式下执行的。末行命令执行完后，vi自动回到编辑模式。如果在命令模式下输入命令过程中改变了主意，可用退格键将输入的命令全部删除，再按一下退格键，即可回到编辑模式